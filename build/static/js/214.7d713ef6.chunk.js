"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[214],{2409:function(e,t,s){s(2791);var n=s(6157),a=s(7692),i=s(6856),r=s(8617),l=s(8820),c=s(184);t.Z=function(e){var t=e.title,s=e.type,o=e.variant,d=void 0===o?"light":o,u={expandButton:(0,c.jsx)(a.QpC,{size:"1.25rem"}),menuButton:(0,c.jsx)(r.jw9,{size:"1.25rem"}),startButton:(0,c.jsx)(i.B7V,{size:"1.25rem"}),deleteButton:(0,c.jsx)(a.SW4,{size:"1.25rem"}),editButton:(0,c.jsx)(a.Hlf,{size:"1.25rem"}),completeButton:(0,c.jsx)(a.hXj,{size:"1.25rem"}),closeButton:(0,c.jsx)(l.oHP,{size:"1.25rem"})};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(n.Z,{size:"sm",variant:d,className:"w-100 text-left",children:[u[s],t?(0,c.jsxs)("span",{children:["\xa0\xa0",t]}):null]})})}},9915:function(e,t,s){s(2791);var n=s(6157),a=s(184);t.Z=function(e){var t=e.task,s=e.setEditTask;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{className:"object__form",children:[(0,a.jsxs)("section",{className:"mb-3",children:[(0,a.jsxs)("div",{className:"input__field mb-3",children:[(0,a.jsx)("label",{children:"Task Title:"}),(0,a.jsx)("br",{}),(0,a.jsx)("input",{type:"text",name:"title",defaultValue:t.title,placeholder:"Enter Task title",className:"input__field--text"})]}),(0,a.jsxs)("div",{className:"input__field mb-3",children:[(0,a.jsx)("label",{children:"Task Description:"}),(0,a.jsx)("br",{}),(0,a.jsx)("textarea",{name:"description",rows:2,defaultValue:t.description,placeholder:"Enter Task Description",className:"input__field--text"})]}),(0,a.jsxs)("div",{className:"d-flex flex-row justify-content-between mb-3",children:[(0,a.jsxs)("div",{className:"input__field w-50",children:[(0,a.jsx)("label",{children:"Start Date:"}),(0,a.jsx)("input",{type:"date",name:"startDate",className:"input__field--date"})]}),(0,a.jsx)("div",{className:"m-2"}),(0,a.jsxs)("div",{className:"input__field w-50",children:[(0,a.jsx)("label",{children:"Completion Date:"}),(0,a.jsx)("input",{type:"date",name:"endDate",className:"input__field--date"})]})]})]}),(0,a.jsx)("section",{children:(0,a.jsxs)("div",{className:"d-flex flex-row justify-content-end",children:[(0,a.jsx)(n.Z,{variant:"outline-info",className:"form__button",onClick:function(){return s(!1)},children:"Close"}),(0,a.jsx)("div",{className:"m-1"}),(0,a.jsx)(n.Z,{variant:"info",type:"submit",className:"form__button",children:"Save"})]})})]})})}},3208:function(e,t,s){var n=s(1413),a=s(4165),i=s(5861),r=s(9439),l=s(2791),c=s(6157),o=s(848),d=s(1134),u=s(874),m=s(6669),x=s(1243),p=s(184),f=(0,u.Ry)({title:(0,u.Z_)().nonempty("Title is required"),description:(0,u.Z_)().nonempty("Description is required"),startDate:(0,u.Z_)().nonempty("Start date is required"),endDate:(0,u.Z_)().nonempty("Completion date is required"),project:(0,u.Rx)().refine((function(e){return e>0}),"Project is required")}).refine((function(e){return new Date(e.startDate)<=new Date(e.endDate)}),{message:"End date must be greater than completion date",path:["endDate"]});t.Z=function(e){var t,s,u,h,j,v=e.setClose,_=(0,l.useState)([]),k=(0,r.Z)(_,2),N=k[0],Z=k[1],b=(0,d.cI)({resolver:(0,o.F)(f),defaultValues:{title:"",description:"",startDate:"",endDate:"",project:0}}),y=b.register,g=b.handleSubmit,w=b.formState.errors,D=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.get("".concat(m.K,"/api/0.1/projects/"));case 3:t=e.sent,Z(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){D()}),[]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("form",{className:"object__form",onSubmit:g((function(e){console.log(e)})),children:[(0,p.jsxs)("section",{className:"mb-3",children:[(0,p.jsxs)("div",{className:"input__field mb-3",children:[(0,p.jsx)("label",{children:"Task Title:"}),(0,p.jsx)("br",{}),(0,p.jsx)("input",(0,n.Z)({type:"text",placeholder:"Enter Task title",className:"input__field--text"},y("title"))),(null===w||void 0===w||null===(t=w.title)||void 0===t?void 0:t.message)&&(0,p.jsx)("p",{className:"input__field--error",children:w.title.message})]}),(0,p.jsxs)("div",{className:"input__field mb-3",children:[(0,p.jsx)("label",{children:"Task Description:"}),(0,p.jsx)("br",{}),(0,p.jsx)("textarea",(0,n.Z)({rows:2,placeholder:"Enter Task Description",className:"input__field--text"},y("description"))),(null===w||void 0===w||null===(s=w.description)||void 0===s?void 0:s.message)&&(0,p.jsx)("p",{className:"input__field--error",children:w.description.message})]}),(0,p.jsxs)("div",{className:"d-flex flex-row justify-content-between mb-3",children:[(0,p.jsxs)("div",{className:"input__field w-50",children:[(0,p.jsx)("label",{children:"Start Date:"}),(0,p.jsx)("input",(0,n.Z)({type:"date",className:"input__field--date"},y("startDate",{valueAsDate:!1}))),(null===w||void 0===w||null===(u=w.startDate)||void 0===u?void 0:u.message)&&(0,p.jsx)("p",{className:"input__field--error",children:w.startDate.message})]}),(0,p.jsx)("div",{className:"m-2"}),(0,p.jsxs)("div",{className:"input__field w-50",children:[(0,p.jsx)("label",{children:"Completion Date:"}),(0,p.jsx)("input",(0,n.Z)({type:"date",className:"input__field--date"},y("endDate",{valueAsDate:!1}))),(null===w||void 0===w||null===(h=w.endDate)||void 0===h?void 0:h.message)&&(0,p.jsx)("p",{className:"input__field--error",children:w.endDate.message})]})]}),(0,p.jsxs)("div",{className:"input__field mb-3",children:[(0,p.jsx)("label",{children:"Task Project:"}),(0,p.jsx)("select",(0,n.Z)((0,n.Z)({className:"input__field--select"},y("project",{valueAsNumber:!0})),{},{children:N.map((function(e,t){return(0,p.jsx)("option",{value:e.id,children:e.name},t)}))})),(null===w||void 0===w||null===(j=w.project)||void 0===j?void 0:j.message)&&(0,p.jsx)("p",{className:"input__field--error",children:w.project.message})]})]}),(0,p.jsx)("section",{children:(0,p.jsxs)("div",{className:"d-flex flex-row justify-content-end",children:[(0,p.jsx)(c.Z,{variant:"outline-info",type:"submit",className:"form__button",onClick:function(){return v(!1)},children:"Close"}),(0,p.jsx)("div",{className:"m-1"}),(0,p.jsx)(c.Z,{variant:"info",type:"submit",className:"form__button",children:"Submit"})]})})]})})}},1214:function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var n=s(4165),a=s(5861),i=s(3433),r=s(9439),l=s(2791),c=s(4896),o=s(2409),d=s(9915),u=s(184),m=function(e){var t=e.task,s=e.handleTaskActive,n=e.handleDeleteTask,a=(0,l.useState)(!1),i=(0,r.Z)(a,2),m=i[0],x=i[1],p=(0,l.useState)(!1),f=(0,r.Z)(p,2),h=f[0],j=f[1],v=(0,l.useState)(!1),_=(0,r.Z)(v,2),k=_[0],N=_[1];return(0,u.jsxs)(u.Fragment,{children:[k?null:(0,u.jsx)(c.Z,{task:t,showDetails:m,children:(0,u.jsxs)("section",{children:[(0,u.jsx)("div",{className:"task__menu--container d-flex flex-row justify-content-start",children:m?(0,u.jsx)("span",{onClick:function(){return x(!m)},children:(0,u.jsx)(o.Z,{title:"",type:"closeButton",variant:"dark"})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"mr-1",onClick:function(){x(!m),j(!1)},children:(0,u.jsx)(o.Z,{title:"",type:"expandButton"})}),(0,u.jsx)("span",{onClick:function(){return j(!h)},children:(0,u.jsx)(o.Z,{title:"",type:"menuButton"})})]})}),(0,u.jsxs)("div",{className:"task__menu--list",style:{display:h?"block":"none"},children:[(0,u.jsx)("span",{onClick:function(){j(!1),s(t)},children:(0,u.jsx)(o.Z,{title:"Active",type:"completeButton"})}),(0,u.jsx)("br",{}),(0,u.jsx)("span",{onClick:function(){N(!0),j(!1)},children:(0,u.jsx)(o.Z,{title:"Edit",type:"editButton"})}),(0,u.jsx)("br",{}),(0,u.jsx)("span",{onClick:function(){j(!1),n(t)},children:(0,u.jsx)(o.Z,{title:"Delete",type:"deleteButton"})})]})]})}),k?(0,u.jsx)(d.Z,{task:t,setEditTask:N}):null]})},x=function(e){var t=e.tasksList,s=e.handleTaskActive,n=e.handleDeleteTask;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"tasks__list__container",children:t.map((function(e){return(0,u.jsx)("div",{className:"tasks__list__item",children:(0,u.jsx)(m,{task:e,handleTaskActive:s,handleDeleteTask:n})},e.id)}))})})},p=s(6669),f=s(6157),h=s(1910),j=s(8820),v=s(3208),_=function(e){return e[e.inactive=0]="inactive",e[e.completed=1]="completed",e[e.showAll=2]="showAll",e}(_||{}),k=function(e){var t=e.activeButton,s=e.handleFilterTask,n=e.tasksList,a=e.setTasksToShow,i=(0,l.useState)(!1),c=(0,r.Z)(i,2),o=c[0],d=c[1],m=function(){return d(!1)},x=function(e,t){return(t?e.filter((function(e){return e.completed===t})):e.filter((function(e){return e.completed===t&&!e.active}))).length};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"d-flex flex-row justify-content-between mb-3",children:[(0,u.jsxs)("div",{className:"w-75 d-flex flex-row justify-content-start",children:[(0,u.jsxs)(f.Z,{variant:"outline-dark",className:"category__button",active:t===_.inactive,onClick:function(){return s(n,_.inactive)},children:["Inactive (",x(n,!1),")"]}),(0,u.jsx)("div",{className:"m-1"}),(0,u.jsxs)(f.Z,{variant:"outline-dark",className:"category__button",active:t===_.completed,onClick:function(){return s(n,_.completed)},children:["Completed (",x(n,!0),")"]}),(0,u.jsx)("div",{className:"m-1"}),(0,u.jsxs)(f.Z,{variant:"outline-dark",className:"category__button",active:t===_.showAll,onClick:function(){return s(n,_.showAll)},children:["Show All (",n.length,")"]}),(0,u.jsx)("div",{className:"m-2"}),(0,u.jsx)("div",{children:(0,u.jsxs)("form",{className:"search__bar",children:[(0,u.jsx)("input",{type:"text",name:"title",placeholder:"Enter task name...",className:"search__bar---input",onChange:function(e){!function(e,t){var s=t.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}));a(s)}(e.target.value,n)}}),(0,u.jsx)(f.Z,{variant:"dark",type:"submit",className:"search__bar---button",children:(0,u.jsx)(j.RB5,{size:"1.25rem"})})]})}),(0,u.jsx)("div",{className:"m-2"}),(0,u.jsx)("div",{children:(0,u.jsx)(f.Z,{variant:"info",onClick:function(){return d(!0)},children:o?(0,u.jsx)("span",{children:"Close"}):(0,u.jsx)("span",{children:"New Task"})})})]}),(0,u.jsx)("div",{className:"w-25 d-flex flex-row justify-content-end",children:(0,u.jsx)(f.Z,{variant:"outline-dark",style:{border:"none"},disabled:!0,children:"Showing 14 of 30"})})]}),(0,u.jsxs)(h.Z,{size:"lg",show:o,onHide:m,children:[(0,u.jsx)(h.Z.Header,{children:(0,u.jsx)(h.Z.Title,{children:"New Task"})}),(0,u.jsx)(h.Z.Body,{className:"p-0",children:(0,u.jsx)(v.Z,{setClose:m})})]})]})},N=s(1243),Z=function(e){return e[e.inactive=0]="inactive",e[e.completed=1]="completed",e[e.showAll=2]="showAll",e}(Z||{}),b=function(){var e=(0,l.useState)([]),t=(0,r.Z)(e,2),s=t[0],c=t[1],o=(0,l.useState)([]),d=(0,r.Z)(o,2),m=d[0],f=d[1],h=(0,l.useState)(Z.inactive),j=(0,r.Z)(h,2),v=j[0],_=j[1],b=function(e,t){var s=(0,i.Z)(e);t===Z.inactive&&(s=e.filter((function(e){return!1===e.completed&&!e.active}))),t===Z.completed&&(s=e.filter((function(e){return!0===e.completed}))),f(s)},y=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.Z.put("".concat(p.K,"/api/0.1/tasks/").concat(t.id,"/activeStatus"),t);case 3:s=e.sent,c(s.data),b(s.data,Z.inactive),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.Z.delete("".concat(p.K,"/api/0.1/tasks/").concat(t.id));case 3:s=e.sent,c(s.data),b(s.data,Z.inactive),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.Z.get("".concat(p.K,"/api/0.1/tasks/"));case 3:t=e.sent,c(t.data),b(t.data,Z.inactive),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){w()}),[]),(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)("section",{children:(0,u.jsx)(k,{activeButton:v,handleFilterTask:function(e,t){b(e,t),_(t)},tasksList:s,setTasksToShow:f})}),(0,u.jsx)("section",{children:(0,u.jsx)(x,{tasksList:m,handleTaskActive:y,handleDeleteTask:g})})]})}},4896:function(e,t,s){var n=s(4165),a=s(5861),i=s(9439),r=s(2791),l=s(6856),c=s(7892),o=s.n(c),d=s(6669),u=s(1243),m=s(184),x={marginRight:".5rem",padding:".4rem 1rem",borderRadius:"50px",background:"rgb(81, 151, 248, 0.25)",fontWeight:"500"};t.Z=function(e){var t=e.children,s=e.task,c=e.showDetails,p=(0,r.useState)([]),f=(0,i.Z)(p,2),h=f[0],j=f[1],v=h[8],_=h[4],k=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(d.K,"/api/0.1/users/company/1"));case 3:t=e.sent,j(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){k()}),[]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{style:{position:"relative",padding:".7rem"},children:[(0,m.jsx)("section",{children:(0,m.jsx)("span",{className:"tasks__list__item--icon",children:(0,m.jsx)(l.q4n,{size:"1.5rem"})})}),(0,m.jsx)("section",{children:(0,m.jsx)("div",{style:{width:"80%"},children:c?(0,m.jsxs)("section",{className:"p-3 ",children:[(0,m.jsx)("h5",{children:s.title}),(0,m.jsx)("h6",{children:"Description"}),(0,m.jsx)("p",{children:s.description}),(0,m.jsxs)("ul",{className:"d-flex flex-row justify-content-start p-0 m-0",style:{listStyleType:"none"},children:[(0,m.jsxs)("li",{style:x,children:["Created On:\xa0\xa0",o()(s.createdOn).format("DD/MM/YYYY")]}),(0,m.jsxs)("li",{style:x,children:["Start Date:\xa0\xa0",o()(s.endDate).format("DD/MM/YYYY")]}),(0,m.jsxs)("li",{style:x,children:["Due Date:\xa0\xa0",o()(s.endDate).format("DD/MM/YYYY")]}),(0,m.jsxs)("li",{style:x,children:["Created By:\xa0\xa0","".concat(_.firstName," ").concat(_.lastName)]}),(0,m.jsxs)("li",{style:x,children:["Assigned To:\xa0\xa0","".concat(v.firstName," ").concat(v.lastName)]})]})]}):(0,m.jsx)("section",{children:(0,m.jsxs)("h6",{className:"text-capitalize",children:[s.title.length>130?(0,m.jsxs)("span",{children:["\xa0\xa0\xa0\xa0",s.title.slice(0,100),"..."]}):(0,m.jsxs)("span",{children:["\xa0\xa0\xa0\xa0",s.title]}),"\xa0\xa0|\xa0\xa0Due:\xa0\xa0",o()(s.endDate).format("DD/MM/YYYY")]})})})}),t]})})}},6669:function(e,t,s){s.d(t,{K:function(){return n}});var n="http://localhost:5001"}}]);
//# sourceMappingURL=214.7d713ef6.chunk.js.map